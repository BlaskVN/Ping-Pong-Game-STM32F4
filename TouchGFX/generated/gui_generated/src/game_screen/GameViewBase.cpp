/*********************************************************************************/
/********** THIS FILE IS GENERATED BY TOUCHGFX DESIGNER, DO NOT MODIFY ***********/
/*********************************************************************************/
#include <gui_generated/game_screen/GameViewBase.hpp>
#include <touchgfx/canvas_widget_renderer/CanvasWidgetRenderer.hpp>
#include <touchgfx/Color.hpp>
#include <images/BitmapDatabase.hpp>
#include<images/SVGDatabase.hpp>

GameViewBase::GameViewBase() :
    buttonCallback(this, &GameViewBase::buttonCallbackHandler)
{
    touchgfx::CanvasWidgetRenderer::setupBuffer(canvasBuffer, CANVAS_BUFFER_SIZE);

    __background.setPosition(0, 0, 240, 320);
    __background.setColor(touchgfx::Color::getColorFromRGB(0, 0, 0));
    add(__background);

    gameBackground1.setXY(0, 0);
    add(gameBackground1);

    backMenu.setXY(210, 0);
    backMenu.setBitmaps(touchgfx::Bitmap(BITMAP_ICON_THEME_IMAGES_ACTION_HOME_FILLED_30_30_000000_SVG_ID), touchgfx::Bitmap(BITMAP_ICON_THEME_IMAGES_ACTION_HOME_FILLED_30_30_A88D34_SVG_ID));
    backMenu.setAction(buttonCallback);
    add(backMenu);

    ball1.setXY(145, 241);
    add(ball1);

    pad1.setSVG(SVG_PING_PONG_SVGREPO_COM_ID);
    pad1.setPosition(155, 251, 58, 55);
    pad1.setScale(0.1f, 0.1f);
    pad1.setImagePosition(3, 3);
    pad1.setRotationCenter(25, 25);
    pad1.setRotation(-1.0f);
    add(pad1);

    pad2.setSVG(SVG_PING_PONG_SVGREPO_COM_ID);
    pad2.setPosition(27, 0, 54, 54);
    pad2.setScale(0.1f, 0.1f);
    pad2.setImagePosition(-3, -3);
    pad2.setRotationCenter(25, 25);
    pad2.setRotation(180.0f);
    add(pad2);
}

GameViewBase::~GameViewBase()
{
    touchgfx::CanvasWidgetRenderer::resetBuffer();
}

void GameViewBase::setupScreen()
{
    gameBackground1.initialize();
    ball1.initialize();
}

void GameViewBase::buttonCallbackHandler(const touchgfx::AbstractButton& src)
{
    if (&src == &backMenu)
    {
        //backMenu
        //When backMenu clicked change screen to Menu
        //Go to Menu with screen transition towards West
        application().gotoMenuScreenCoverTransitionWest();
    }
}
